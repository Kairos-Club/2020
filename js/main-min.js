var parallaxBox=$("#parallax-container"),strength=1,isMobile=!1;function parallaxMove(a,t,e,i,o){$(a).find(".parallax-layer").each(function(){var a=$(this).data("depth"),n=strength*a*(i/2-t),r=strength*a*(o/2-e);$(this).css({transform:"translate3d("+n+"px, "+r+"px, 0)"}),$(this).removeClass("is-out")})}function resetParallaxPosition(a){$(a).find(".parallax-layer").each(function(){$(this).css({transform:"translate3d( 0, 0, 0 )"})}),event.stopPropagation()}if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(isMobile=!0),isMobile){if(isMobile){var elem=document.getElementById("view3d");window.addEventListener("deviceorientation",function(a){a.stopPropagation(),a=a||window.event;var t=Math.min(Math.max(parseInt(Math.floor(a.gamma)),-45),45),e=Math.min(Math.max(parseInt(Math.floor(a.beta)),-45),45),i=parallaxBox.width(),o=parallaxBox.height();parallaxMove(parallaxBox,i/2*t/45,i/2*e/45,i,o)})}}else parallaxBox.mousemove(function(a){a.stopPropagation(),a=a||window.event,parallaxMove(this,Math.floor(a.clientX-$(this).offset().left),Math.floor(a.clientY-$(this).offset().top),$(this).width(),$(this).height())}),parallaxBox.mouseleave(function(a){$(a.target).is($(this))||resetParallaxPosition(this)});